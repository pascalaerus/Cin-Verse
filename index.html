<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cin√©Verse | Films, S√©ries & Mangas</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<style>
:root {
    --primary-color1: #e50914; /* Netflix red */
    --primary-color2: #00bfff; /* Disney-ish blue */
    --primary-color3: #ffd700; /* Prime Video yellow */
    --bg-dark: #0f0f0f;
    --card-bg: #1a1a1a;
    --input-bg: #333;
    --text-light: #fff;
    --text-gray: #b3b3b3;
}
* {margin:0; padding:0; box-sizing:border-box;}
body {font-family:'Poppins',sans-serif; background-color:var(--bg-dark); color:var(--text-light);}
header {height:35vh; background:linear-gradient(rgba(0,0,0,0.8), rgba(15,15,15,1)), url('https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?auto=format&fit=crop&w=1350&q=80'); background-size:cover; background-position:center; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; position:relative;}
.logo {font-size:3rem; font-weight:700; text-transform:uppercase; letter-spacing:2px; background: linear-gradient(90deg, var(--primary-color1), var(--primary-color2), var(--primary-color3)); -webkit-background-clip: text; color:transparent; animation: rainbowText 3s linear infinite;}
@keyframes rainbowText {0%{background-position:0%}50%{background-position:100%}100%{background-position:0%}}
.container {max-width:900px; margin:-40px auto 50px; padding:0 20px;}
.section-title {text-align:center; margin:40px 0 20px; font-size:1.6rem; color:var(--text-light); border-left:4px solid var(--primary-color1); padding-left:10px; display:inline-block;}
.grid {display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:15px; margin-bottom:40px;}
.card {background:var(--card-bg); padding:25px; border-radius:15px; text-align:center; transition:0.3s; border:1px solid #222;}
.card:hover {transform:translateY(-5px); border-color: var(--primary-color1);}
.card i {font-size:2.5rem; margin-bottom:15px;}
.btn {display:inline-block; padding:12px 25px; background:var(--primary-color1); color:white; text-decoration:none; border-radius:5px; font-weight:600; margin-top:10px; transition:0.3s; border:none; cursor:pointer; width:100%; text-align:center;}
.btn:hover {opacity:0.9;}
.box {background:var(--card-bg); padding:30px; border-radius:15px; margin-bottom:30px; border:1px solid #222;}
.form-group {margin-bottom:15px;}
.form-group label {display:block; margin-bottom:5px; color:var(--text-gray); font-size:0.9rem;}
.form-group input, .form-group select {width:100%; padding:12px; border-radius:5px; border:1px solid #444; background:var(--input-bg); color:white; font-family:inherit;}
#promo-field {display:none; margin-top:15px; border:1px dashed var(--primary-color1); padding:10px; border-radius:5px;}
.contact-links {display:flex; flex-wrap:wrap; justify-content:center; gap:20px; margin-top:20px;}
.contact-item {color:var(--text-gray); text-decoration:none; transition:0.3s; font-size:0.9rem; display:flex; align-items:center; gap:8px;}
.contact-item:hover {color:var(--primary-color1);}
footer {text-align:center; padding:40px; color:var(--text-gray); font-size:0.8rem; border-top:1px solid #222; margin-top:50px;}
</style>
</head>
<body>

<!-- Stickman Battle Animation -->
<div id="stickman-battle" style="width:100%; height:200px; background:#0f0f0f; overflow:hidden; position:relative;">
    <canvas id="battleCanvas" width="800" height="200"></canvas>
</div>

<header>
<div class="logo">Cin√©Verse</div>
<p>Demandez vos films et s√©ries pr√©f√©r√©s</p>
<a href="suggestions.html" class="btn" style="width:auto; margin-top:15px;">Suggestions üé¨</a>
</header>

<div class="container">
<h2 class="section-title">Rejoindre les Groupes</h2>
<div class="grid">
    <div class="card">
        <i class="fab fa-whatsapp" style="color:#25D366;"></i>
        <h3>Films & S√©ries</h3>
        <a href="https://chat.whatsapp.com/KUrZRWKL7CpDn6zwXUcEgm?mode=gi_t" class="btn" target="_blank">Rejoindre</a>
    </div>
    <div class="card">
        <i class="fab fa-whatsapp" style="color:#25D366;"></i>
        <h3>Mangas</h3>
        <a href="https://chat.whatsapp.com/BdCsIhDN0JGIDKXndF04Qv?mode=gi_t" class="btn" target="_blank">Rejoindre</a>
    </div>
    <div class="card">
        <i class="fab fa-telegram" style="color:#0088cc;"></i>
        <h3>Telegram</h3>
        <a href="https://t.me/filmsetseriescineverse" class="btn" target="_blank">S'abonner</a>
    </div>
</div>

<h2 class="section-title">Faire une demande</h2>
<div class="box">
<form id="movieForm">
<div class="form-group">
    <label>Votre Nom</label>
    <input type="text" id="user_name" placeholder="Ex: Jean" required>
</div>

<div class="form-group">
    <label>Votre Email</label>
    <input type="email" id="user_email" placeholder="Ex: jean@gmail.com" required>
</div>

<div class="form-group">
    <label>Type de contenu</label>
    <select id="content_type">
        <option value="Film">Film</option>
        <option value="S√©rie">S√©rie</option>
        <option value="Manga">Manga</option>
    </select>
</div>

<div class="form-group" id="season-group" style="display:none;">
    <label>Choisir la saison (1,2,3‚Ä¶)</label>
    <input type="number" id="season_number" min="1" value="1">
</div>

<div class="form-group">
    <label>Titre (Nom exact)</label>
    <input type="text" id="movie_name" placeholder="Ex: John Wick, Stranger Things..." required>
</div>

<div id="promo-field">
    <label style="color:#ffcc00;"><i class="fas fa-key"></i> Code Promo Premium Requis</label>
    <input type="text" id="promo_code" placeholder="Entrez votre code ici">
    <small style="color:#b3b3b3;">Les s√©ries de plus de 3 saisons sont r√©serv√©es aux membres Premium.</small>
</div>

<button type="button" id="submit_request" class="btn" style="background:#25D366;margin-top:20px;">
    <i class="fab fa-whatsapp"></i> Envoyer ma demande
</button>
</form>
</div>

<div class="contact-links">
    <a href="https://wa.me/22996326185" class="contact-item" target="_blank"><i class="fab fa-whatsapp"></i> +229 96 32 61 85</a>
    <a href="https://t.me/unknown270305" class="contact-item" target="_blank"><i class="fab fa-telegram"></i> @unknown270305</a>
    <a href="mailto:pascal270305@gmail.com" class="contact-item"><i class="fas fa-envelope"></i> pascal270305@gmail.com</a>
    <a href="https://www.facebook.com/PascalA√©rus" class="contact-item" target="_blank"><i class="fab fa-facebook"></i> Pascal A√©rus</a>
</div>

</div>
<footer>
<p>&copy; 2026 Cin√©Verse | Cr√©√© par Pascal A√©rus</p>
</footer>

<script>
// EmailJS Init
emailjs.init("nwNk-9LbyO0XHfwql");

// TMDB API key
const TMDB_API_KEY = "343afb1d4a8c081ad737a2aef2f96d9a";

// Stickman Battle Animation
const battleCanvas = document.getElementById('battleCanvas');
const bctx = battleCanvas.getContext('2d');
let s1 = {x:150, y:150, dx:1.2};
let s2 = {x:650, y:150, dx:-1.2};
let bf=0;

function drawStick(x,y,attack=false){
    bctx.strokeStyle=attack?'#e50914':'#fff';
    bctx.lineWidth=3;
    bctx.beginPath(); bctx.arc(x,y-30,15,0,Math.PI*2); bctx.stroke(); // t√™te
    bctx.beginPath(); bctx.moveTo(x,y-15); bctx.lineTo(x,y+20); bctx.stroke(); // corps
    bctx.beginPath(); bctx.moveTo(x,y-10); bctx.lineTo(x+(attack?20:-20),y+5);
    bctx.moveTo(x,y-10); bctx.lineTo(x+(attack?-15:15),y+5); bctx.stroke(); // bras
    bctx.beginPath(); bctx.moveTo(x,y+20); bctx.lineTo(x-10,y+40);
    bctx.moveTo(x,y+20); bctx.lineTo(x+10,y+40); bctx.stroke(); // jambes
}

function animateBattle(){
    bf++;
    bctx.clearRect(0,0,battleCanvas.width,battleCanvas.height);
    bctx.fillStyle='#0f0f0f'; bctx.fillRect(0,0,battleCanvas.width,battleCanvas.height);
    bctx.fillStyle='#111'; bctx.fillRect(0,180,battleCanvas.width,50);

    let attack1 = bf%50<25;
    let attack2 = !attack1;

    drawStick(s1.x,s1.y,attack1);
    drawStick(s2.x,s2.y,attack2);

    s1.x += s1.dx; if(s1.x>300||s1.x<150)s1.dx*=-1;
    s2.x += s2.dx; if(s2.x<500||s2.x>650)s2.dx*=-1;

    if(Math.abs(s1.x-s2.x)<60){
        bctx.fillStyle='rgba(255,0,0,0.2)'; bctx.fillRect(0,0,battleCanvas.width,battleCanvas.height);
    }
    requestAnimationFrame(animateBattle);
}
animateBattle();

// Fonction v√©rification type et saisons
async function checkContentType(title){
    let res = await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${TMDB_API_KEY}&query=${encodeURIComponent(title)}&language=fr`);
    let data = await res.json();
    if(data.results && data.results.length>0)return {type:"Film", seasons:1};

    res = await fetch(`https://api.themoviedb.org/3/search/tv?api_key=${TMDB_API_KEY}&query=${encodeURIComponent(title)}&language=fr`);
    data = await res.json();
    if(data.results && data.results.length>0){
        const tv = data.results[0];
        const detailRes = await fetch(`https://api.themoviedb.org/3/tv/${tv.id}?api_key=${TMDB_API_KEY}&language=fr`);
        const detailData = await detailRes.json();
        return {type:"S√©rie", seasons:detailData.number_of_seasons || 1};
    }
    return {type:"Inconnu", seasons:0};
}

// Toggle promo et saison
function togglePromoField(seasons){
    document.getElementById("promo-field").style.display = seasons>3?"block":"none";
    document.getElementById("season-group").style.display = seasons>1?"block":"none";
}

// Bouton demande
document.getElementById("submit_request").addEventListener("click",async function(){
    const name=document.getElementById("user_name").value.trim();
    const email=document.getElementById("user_email").value.trim();
    const type=document.getElementById("content_type").value;
    const title=document.getElementById("movie_name").value.trim();
    const code=document.getElementById("promo_code").value.trim();
    const season = document.getElementById("season_number").value;

    if(!name||!email||!title){alert("Veuillez remplir tous les champs !"); return;}
    const result=await checkContentType(title);

    if(result.type==="Inconnu"){alert(`‚ùå "${title}" n'a pas √©t√© trouv√© sur TMDB.`); return;}
    if(type!==result.type){alert(`‚ùå "${title}" est un ${result.type}, pas une ${type}.`); return;}
    if(result.type==="S√©rie" && result.seasons>3 && code!=="AMIDEPASCAL"){alert("DEMANDE REJET√âE : Vous n'√™tes pas Premium !"); togglePromoField(result.seasons); return;}
    togglePromoField(result.seasons);

    const phone="22996326185";
    const message = `üé¨ *NOUVELLE DEMANDE CIN√âVERSE* üé¨%0A%0A`+
                    `üë§ *Nom:* ${name}%0A`+
                    `üìå *Type:* ${type}%0A`+
                    `üéûÔ∏è *Titre:* ${title}%0A`+
                    (type==="S√©rie"?`üõ°Ô∏è *Saison:* ${season}%0A`:"")+
                    (code==="AMIDEPASCAL"?`üîë *Code:* ${code} (V√âRIFI√â ‚úÖ)%0A`:"")+
                    `%0A_Demande effectu√©e depuis le site web._`;
    window.open(`https://wa.me/${phone}?text=${message}`,'_blank');

    // EmailJS
    emailjs.send("service_7njbqib","template_dzcv9gj",{
        user_name:name,
        user_email:email,
        content_title:title,
        content_type:type,
        seasons:result.seasons,
        season_number:season,
        status:"Demande re√ßue !"
    });
    alert("‚úÖ Votre demande a √©t√© envoy√©e et un mail de confirmation vous a √©t√© envoy√© !");
});
</script>
</body>
</html>